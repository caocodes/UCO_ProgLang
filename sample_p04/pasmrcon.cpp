//----------------------------------------------------------------------------
//File pasmrcon.cpp implements member functions of class 
//pasmrcon
//----------------------------------------------------------------------------
//Author: 
//E-Mail: 
//Date:   
//----------------------------------------------------------------------------

//----------------------------------------------------------------------------
// C and C++ include files.
//----------------------------------------------------------------------------
#include <iostream>
#include <fstream>
#include <cstdio>
#include <iomanip>
//----------------------------------------------------------------------------
//this will include pasmrcon will include
//----------------------------------------------------------------------------
#include "pasmrcon.h"
//----------------------------------------------------------------------------
//using std Namespaces
//----------------------------------------------------------------------------
using namespace std;
//--------------------------------------------------------------------
//----------------------------------------------------------------------------
//Constructor is calling
//----------------------------------------------------------------------------
pasmrcon::pasmrcon(int sz):size(sz),count(0)
{   
    R=new double[size];

}
//----------------------------------------------------------------------------
//Destructor is calling 
//----------------------------------------------------------------------------
pasmrcon::~pasmrcon()
{
    if (R) delete[] R; 
}
//----------------------------------------------------------------------------
//Function IsFull used to check if it is full 
//----------------------------------------------------------------------------
bool pasmrcon::IsFull(void)
{
    return count>=size-1;
} 
//----------------------------------------------------------------------------
//Function IsEmpty checks if that array is empty or not 
//----------------------------------------------------------------------------
bool pasmrcon::IsEmpty(void)
{
    return count==0;
} 
//----------------------------------------------------------------------------
//This function insert the attributes
//----------------------------------------------------------------------------
int pasmrcon::Insert(double v)
{   
    for (int i=0;i<count;i++) 
        if (v==R[i]) return i;
    
    if (IsFull()) throw pasmrconFullException(); 
        R[count]=v;
        
    return count++; 
}
//----------------------------------------------------------------------------
//Function Print formats and prints the array
//----------------------------------------------------------------------------
void pasmrcon::Print(ostream& o)
{   

    o << endl;
    o << "Real Constants"; 
    o << endl;
    o << setw( 5) << "Index";
    o << " ";
    o << "Constant";

     int i=0;
    while (i<count)
     {
        o << endl;
	    o << setw( 5) << i;
	    o << " ";
	    o << scientific << setprecision (6) << R[i];
        i++;
    }

    o << endl;
}
//----------------------------------------------------------------------------
//Function uses and writes a file 
//----------------------------------------------------------------------------
void pasmrcon::Write(FILE* f) 
{  

     fwrite(R,sizeof(double),count,f);

}
//----------------------------------------------------------------------------
//Function Reads a file 
//----------------------------------------------------------------------------
void pasmrcon::Read(FILE* f) 
{  

 fread(R,sizeof(double),count,f);

}
//----------------------------------------------------------------------------

//----------------------------------------------------------------------------
int pasmrcon::Size(void){return count*sizeof(double);}
