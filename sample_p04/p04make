#----------------------------------------------------------------------
# File p04make creates a subset pascal parser
#----------------------------------------------------------------------
#/ Team Identification Block
#/ Author 1: 	Daniel L. Tomei
#/ Student ID: 	*20491050
#/ E-Mail: 	dtomei@uco.edu
#/ CRN: 	13855, Fall, 2020
#/ Author 2: 	Aditi Panvelkar
#/ Student ID: 	*20490610
#/ E-Mail: 	apanvelkar@uco.edu
#/ CRN: 	13855, Fall, 2020
#/ Course: 	CMSC 5023 – Programming Languages
#/ Project: 	p04
#/ Due: 	December 10, 2020
#/ Project Account Number: tt162
#----------------------------------------------------------------------
# Object files
#----------------------------------------------------------------------
obj		=		p04par.o \
				p04lex.o \
				p04.o
#----------------------------------------------------------------------
# Bind the subset pascal scanner
#----------------------------------------------------------------------
pasm:			${obj}
				g++ -o pasm ${obj} -lm -ll
#----------------------------------------------------------------------
# File p04.cpp processes command line arguments
#----------------------------------------------------------------------
p04.o:			p04.cpp p04lex.h
				g++ -c -g p04.cpp
#----------------------------------------------------------------------
# File p04lex.cpp is the lex-generated scanner
#----------------------------------------------------------------------
p04lex.cpp:		p04lex.l p04lex.h
				lex p04lex.l
				mv lex.yy.c p04lex.cpp
#----------------------------------------------------------------------
#----------------------------------------------------------------------
p04lex.o:		p04lex.cpp p04lex.h
				g++ -c -g p04lex.cpp
#----------------------------------------------------------------------
# Create files p04par.cpp and p04tkn.h from file p04par.y
#----------------------------------------------------------------------
p04tkn.h		\
p04par.cpp:		p04par.y
				yacc -d -v p04par.y
				mv y.tab.c p04par.cpp
				cat p04tkn_prolog.h y.tab.h p04tkn_epilog.h > p04tkn.h
#----------------------------------------------------------------
# Compile the parser p04par.y
#----------------------------------------------------------------
p04par.o:		p04par.cpp p04par.h
				g++ -c -g p04par.cpp
#----------------------------------------------------------------------
